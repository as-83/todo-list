<div class="add_outer"  *ngIf="visible">

  <div class="add_inner">

    <div class="row justify-content-center">

      <div class="col-6  mt-3">
        <h3 align="center">Задача</h3>
        <h3 align="center" *ngIf="map">Задача добавлена в список дел</h3>

        <form class="form-group mt-3" >

          <input class="form-control" type="text" name="name" [(ngModel)]="task.title" placeholder="Название задачи"/><br>

          <div class="form-check">
            <label class="form-check-label"> Выполнена
              <input class="form-check-input" type="checkbox" (change)="setStatus()"
                     [checked]="task.completed"
              >
              <span class="form-check-sign">
                    <span class="check"></span>
                  </span>
            </label>
          </div>
          <hr>

          <label class="form-check-label">Приоритет: </label>

          <select  class="form-control mb-3"  name="priorityId"  (change)="setPriority($event)">
            <option *ngFor="let priority of priorities; let j = index " value="{{j}}" [selected]="task.priority.priority_id === priority.priority_id">{{priority.title}}</option>
          </select>
          <hr>

          <label class="form-check-label">Категория: </label>

          <select  class="form-control mb-3"  name="categoryId" (change)="setCategory($event)">
            <option *ngFor="let category of filterCategories(); let i = index" value="{{i}}"   [selected]="task.category.category_id === category.category_id">{{category.title}}</option>
          </select>
          <hr>

          <input class="form-control" type="date" name="localDate"  [(ngModel)]="task.localDate" /><br>
          <button class="btn  btn-primary" (click)="saveTask()">Сохранить</button>
          <button class="btn  btn-primary" (click)="hideComponent()">Отмена</button>
          <button *ngIf="task.id" class="btn  btn-primary ml-3" (click)="deleteTask(task.id)">Удалить</button>

        </form>

      </div>

    </div>

  </div>

</div>


